import{h as k,d as I,r as v,c as S,w as M,a as d,b as e,e as f,f as N,g as x,i as w,_ as O,j as U,v as j,B as T,k as A,t as g,l as C,u as _,F as z,m as D,n as $,o as n,p as P,q as R}from"./index-CYtOWd8Q.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,l)=>l?l.toUpperCase():a.toLowerCase()),H=r=>{const s=q(r);return s.charAt(0).toUpperCase()+s.slice(1)},E=(...r)=>r.filter((s,a,l)=>!!s&&s.trim()!==""&&l.indexOf(s)===a).join(" ").trim();/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=({size:r,strokeWidth:s=2,absoluteStrokeWidth:a,color:l,iconNode:c,name:u,class:o,...i},{slots:b})=>k("svg",{...h,width:r||h.width,height:r||h.height,stroke:l||h.stroke,"stroke-width":a?Number(s)*24/Number(r):s,class:E("lucide",...u?[`lucide-${B(H(u))}-icon`,`lucide-${B(u)}`]:["lucide-icon"]),...i},[...c.map(y=>k(...y)),...b.default?[b.default()]:[]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=(r,s)=>(a,{slots:l})=>k(J,{...a,iconNode:s,name:r},l);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=G("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=G("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=G("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),Q={class:"h-full flex flex-col p-6"},Y={class:"max-w-2xl mx-auto w-full space-y-6"},W={class:"bg-vs-ibg border border-vs-border rounded-lg p-6"},ee=["disabled"],te=["disabled"],se={key:0},oe={key:1},ae={key:0,class:"bg-vs-pbg border border-vs-border rounded-lg p-4"},le={class:"text-xs font-mono text-gray-300 break-all"},re={key:1,class:"space-y-4"},ne={class:"flex items-center space-x-2"},ue={class:"font-medium"},ie={key:2,class:"text-sm text-gray-400"},de={key:0,class:"bg-vs-ibg border border-vs-border rounded p-4"},ce={class:"font-medium mb-2"},pe={class:"max-h-40 overflow-y-auto space-y-1"},ve={class:"mt-3 flex gap-2"},me={key:1,class:"bg-vs-pbg border border-vs-border rounded p-4"},ge={class:"font-medium mb-2"},fe={class:"text-xs font-mono text-gray-300 whitespace-pre-wrap max-h-60 overflow-y-auto"},be={key:2,class:"bg-vs-pbg border border-vs-border rounded"},xe={class:"p-4 border-t border-vs-border"},ye={class:"text-xs font-mono text-gray-300 whitespace-pre-wrap"},he=I({__name:"CodeGenSettings",setup(r){const s=v("https://petstore3.swagger.io/api/v3/openapi.json"),a=v("./src/generated-api"),l=v("fetch"),c=v("openapi-typescript-codegen"),u=v(!1),o=v(null),i=v(""),b=S(()=>s.value.trim()&&a.value.trim()),y=S(()=>b.value?c.value==="openapi-typescript-codegen"?`npx ${c.value} --input "${s.value}" --output "${a.value}" --client ${l.value}`:`npx ${c.value} generate -g javascript -i ${s.value} -o ${a.value}`:"");M([s,a,l],()=>{o.value=null});async function L(){if(b.value){u.value=!0,o.value=null,i.value="";try{P("Starting code generation..."),i.value=`Starting generation at ${new Date().toISOString()}
`,i.value+=`URL: ${s.value}
`,i.value+=`Output: ${a.value}
`,i.value+=`Client: ${l.value}

`;const m=await $.generateCode({generator:c.value,language:c.value==="openapi-typescript-codegen"?"ts":"js",input:s.value,output:a.value,client:l.value});i.value+=`Response received:
${JSON.stringify(m,null,2)}`}catch(m){console.error("Generation failed:",m),o.value={success:!1,error:m instanceof Error?m.message:"Unknown error occurred"},i.value+=`Error: ${m}
`}finally{u.value=!1}}}async function F(){try{await $.openInFileManager(a.value)}catch(m){console.error("Failed to open folder:",m)}}return(m,t)=>{var V;return n(),d("div",Q,[e("div",Y,[t[15]||(t[15]=e("div",{class:"border-b border-vs-border pb-4"},[e("h1",{class:"text-2xl font-bold text-vs-fg"},"Code Generation Test"),e("p",{class:"text-sm text-gray-400 mt-2"},"Test openapi-codegen CLI commands")],-1)),e("div",W,[e("form",{onSubmit:N(L,["prevent"]),class:"space-y-4"},[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium mb-2"},[w(" OpenAPI JSON URL "),e("span",{class:"text-red-500"},"*")],-1)),x(O,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=p=>s.value=p),placeholder:"https://petstore3.swagger.io/api/v3/openapi.json",class:"w-full",disabled:u.value},null,8,["modelValue","disabled"]),t[5]||(t[5]=e("p",{class:"text-xs text-gray-400 mt-1"},"Try: https://petstore3.swagger.io/api/v3/openapi.json",-1))]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium mb-2"},[w(" Output Directory "),e("span",{class:"text-red-500"},"*")],-1)),x(O,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=p=>a.value=p),placeholder:"./src/generated-api",class:"w-full",disabled:u.value},null,8,["modelValue","disabled"]),t[7]||(t[7]=e("p",{class:"text-xs text-gray-400 mt-1"},"Relative to your workspace root",-1))]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium mb-2"},"HTTP Client",-1)),U(e("select",{"onUpdate:modelValue":t[2]||(t[2]=p=>l.value=p),class:"w-full p-2 border rounded bg-vs-ibg border-vs-border text-vs-fg",disabled:u.value},t[8]||(t[8]=[e("option",{value:"fetch"},"Fetch API",-1),e("option",{value:"axios"},"Axios",-1),e("option",{value:"xhr"},"XMLHttpRequest",-1),e("option",{value:"node"},"Node.js",-1)]),8,ee),[[j,l.value]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium mb-2"},"Generator",-1)),U(e("select",{"onUpdate:modelValue":t[3]||(t[3]=p=>c.value=p),class:"w-full p-2 border rounded bg-vs-ibg border-vs-border text-vs-fg",disabled:u.value},t[10]||(t[10]=[e("option",{value:"openapi-typescript-codegen"},"openapi-typescript-codegen",-1)]),8,te),[[j,c.value]])]),x(T,{type:"submit",disabled:!b.value||u.value,block:!0},{default:A(()=>[u.value?(n(),d("span",se,"Generating Code...")):(n(),d("span",oe,"Generate TypeScript Client"))]),_:1},8,["disabled"])],32)]),y.value?(n(),d("div",ae,[t[12]||(t[12]=e("h3",{class:"text-sm font-medium mb-2"},"Command that will be executed:",-1)),e("code",le,g(y.value),1)])):f("",!0),o.value?(n(),d("div",re,[e("div",ne,[o.value.success?(n(),C(_(X),{key:0,class:"text-green-400",size:20})):(n(),C(_(Z),{key:1,class:"text-red-400",size:20})),e("span",ue,g(o.value.success?"Generation completed!":"Generation failed"),1),o.value.duration?(n(),d("span",ie," ("+g(o.value.duration)+"ms) ",1)):f("",!0)]),o.value.success&&((V=o.value.files)!=null&&V.length)?(n(),d("div",de,[e("h4",ce,"Generated Files ("+g(o.value.files.length)+"):",1),e("div",pe,[(n(!0),d(z,null,D(o.value.files,p=>(n(),d("div",{key:p,class:"text-sm font-mono text-gray-300 bg-vs-pbg px-2 py-1 rounded"},g(p),1))),128))]),e("div",ve,[x(T,{onClick:F,variant:"outlined",size:"sm"},{default:A(()=>[x(_(K),{size:16,class:"mr-1"}),t[13]||(t[13]=w(" Open Folder "))]),_:1,__:[13]})])])):f("",!0),o.value.output||o.value.error?(n(),d("div",me,[e("h4",ge,g(o.value.error?"Error Output:":"Command Output:"),1),e("pre",fe,g(o.value.output||o.value.error),1)])):f("",!0)])):f("",!0),i.value?(n(),d("details",be,[t[14]||(t[14]=e("summary",{class:"p-3 cursor-pointer hover:bg-vs-hover"},[e("span",{class:"font-medium"},"Debug Information")],-1)),e("div",xe,[e("pre",ye,g(i.value),1)])])):f("",!0)])])}}}),we={};function _e(r,s){return n(),d("div",null,s[0]||(s[0]=[e("p",null,"codegen output",-1)]))}const ke=R(we,[["render",_e]]),Ce={class:"h-full flex flex-col p-6 overflow-y-auto"},$e={class:"max-w-4xl mx-auto w-full space-y-6"},Ve=I({__name:"CodeGenView",setup(r){const s=v(!1),a=v({generator:"@openapitools/openapi-generator-cli",language:"js",input:"",output:"./src/api",client:"fetch",useOptions:!0,useUnionTypes:!1,exportCore:!0,exportSchemas:!0,exportModels:!0,exportServices:!0,indent:"2",postfixServices:"Service",postfixModels:"",request:"./core/request",write:!0}),l=v(null);async function c(u){s.value=!0,l.value=null;try{const o=await $.generateCode(u);l.value=o}catch(o){console.error("Code generation failed:",o)}finally{s.value=!1}}return(u,o)=>(n(),d("div",Ce,[e("div",$e,[o[1]||(o[1]=e("div",{class:"border-b border-vs-border pb-4"},[e("h1",{class:"text-2xl font-bold text-vs-fg"},"Code Generation"),e("p",{class:"text-sm text-gray-400 mt-2"}," Generate TypeScript client code from your OpenAPI specification ")],-1)),x(he,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=i=>a.value=i),loading:s.value,onGenerate:c},null,8,["modelValue","loading"]),l.value?(n(),C(ke,{key:0,result:l.value,config:a.value},null,8,["result","config"])):f("",!0)])]))}});export{Ve as default};
