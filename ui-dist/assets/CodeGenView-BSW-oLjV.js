import{h as G,d as M,r as m,c as T,w as z,a as d,b as e,e as b,f as R,g,i as h,_ as U,j,v as F,B as C,k as $,t as f,l as O,u as w,F as D,m as N,n as V,o as n,p as E}from"./index-BAzyPaF_.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,l)=>l?l.toUpperCase():r.toLowerCase()),P=a=>{const s=H(a);return s.charAt(0).toUpperCase()+s.slice(1)},q=(...a)=>a.filter((s,r,l)=>!!s&&s.trim()!==""&&l.indexOf(s)===r).join(" ").trim();/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=({size:a,strokeWidth:s=2,absoluteStrokeWidth:r,color:l,iconNode:c,name:i,class:o,...u},{slots:x})=>G("svg",{...k,width:a||k.width,height:a||k.height,stroke:l||k.stroke,"stroke-width":r?Number(s)*24/Number(a):s,class:q("lucide",...i?[`lucide-${L(P(i))}-icon`,`lucide-${L(i)}`]:["lucide-icon"]),...u},[...c.map(y=>G(...y)),...x.default?[x.default()]:[]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=(a,s)=>(r,{slots:l})=>G(J,{...r,iconNode:s,name:a},l);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=_("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=_("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=_("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=_("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Y={class:"h-full flex flex-col p-6"},W={class:"max-w-2xl mx-auto w-full space-y-6"},ee={class:"bg-vs-ibg border border-vs-border rounded-lg p-6"},te=["disabled"],se=["disabled"],oe={key:0},re={key:1},le={key:0,class:"bg-vs-pbg border border-vs-border rounded-lg p-4"},ae={class:"text-xs font-mono text-gray-300 break-all"},ne={key:1,class:"space-y-4"},ie={class:"flex items-center space-x-2"},ue={class:"font-medium"},de={key:2,class:"text-sm text-gray-400"},ce={key:0,class:"bg-vs-ibg border border-vs-border rounded p-4"},pe={class:"font-medium mb-2"},ve={class:"max-h-40 overflow-y-auto space-y-1"},me={class:"mt-3 flex gap-2"},fe={key:1,class:"bg-vs-pbg border border-vs-border rounded p-4"},ge={class:"font-medium mb-2"},be={class:"text-xs font-mono text-gray-300 whitespace-pre-wrap max-h-60 overflow-y-auto"},xe={key:2,class:"bg-vs-pbg border border-vs-border rounded"},ye={class:"p-4 border-t border-vs-border"},he={class:"text-xs font-mono text-gray-300 whitespace-pre-wrap"},we=M({__name:"CodeGenSettings",setup(a){const s=m("https://petstore3.swagger.io/api/v3/openapi.json"),r=m("./src/generated-api"),l=m("fetch"),c=m("openapi-typescript-codegen"),i=m(!1),o=m(null),u=m(""),x=T(()=>s.value.trim()&&r.value.trim()),y=T(()=>x.value?c.value==="openapi-typescript-codegen"?`npx ${c.value} --input "${s.value}" --output "${r.value}" --client ${l.value}`:`npx ${c.value} generate -g javascript -i ${s.value} -o ${r.value}`:"");z([s,r,l],()=>{o.value=null});async function A(){if(x.value){i.value=!0,o.value=null,u.value="";try{console.log("Starting code generation..."),u.value=`Starting generation at ${new Date().toISOString()}
`,u.value+=`URL: ${s.value}
`,u.value+=`Output: ${r.value}
`,u.value+=`Client: ${l.value}

`;const p=await V.generateCode({generator:c.value,language:c.value==="openapi-typescript-codegen"?"ts":"js",input:s.value,output:r.value,client:l.value});u.value+=`Response received:
${JSON.stringify(p,null,2)}`}catch(p){console.error("Generation failed:",p),o.value={success:!1,error:p instanceof Error?p.message:"Unknown error occurred"},u.value+=`Error: ${p}
`}finally{i.value=!1}}}async function B(){try{await V.openInFileManager(r.value)}catch(p){console.error("Failed to open folder:",p)}}async function I(){try{console.log("TODO: refresh file explorer")}catch(p){console.error("Failed to refresh explorer:",p)}}return(p,t)=>{var S;return n(),d("div",Y,[e("div",W,[t[16]||(t[16]=e("div",{class:"border-b border-vs-border pb-4"},[e("h1",{class:"text-2xl font-bold text-vs-fg"},"Code Generation Test"),e("p",{class:"text-sm text-gray-400 mt-2"},"Test openapi-codegen CLI commands")],-1)),e("div",ee,[e("form",{onSubmit:R(A,["prevent"]),class:"space-y-4"},[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium mb-2"},[h(" OpenAPI JSON URL "),e("span",{class:"text-red-500"},"*")],-1)),g(U,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=v=>s.value=v),placeholder:"https://petstore3.swagger.io/api/v3/openapi.json",class:"w-full",disabled:i.value},null,8,["modelValue","disabled"]),t[5]||(t[5]=e("p",{class:"text-xs text-gray-400 mt-1"},"Try: https://petstore3.swagger.io/api/v3/openapi.json",-1))]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium mb-2"},[h(" Output Directory "),e("span",{class:"text-red-500"},"*")],-1)),g(U,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=v=>r.value=v),placeholder:"./src/generated-api",class:"w-full",disabled:i.value},null,8,["modelValue","disabled"]),t[7]||(t[7]=e("p",{class:"text-xs text-gray-400 mt-1"},"Relative to your workspace root",-1))]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium mb-2"},"HTTP Client",-1)),j(e("select",{"onUpdate:modelValue":t[2]||(t[2]=v=>l.value=v),class:"w-full p-2 border rounded bg-vs-ibg border-vs-border text-vs-fg",disabled:i.value},t[8]||(t[8]=[e("option",{value:"fetch"},"Fetch API",-1),e("option",{value:"axios"},"Axios",-1),e("option",{value:"xhr"},"XMLHttpRequest",-1),e("option",{value:"node"},"Node.js",-1)]),8,te),[[F,l.value]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium mb-2"},"Generator",-1)),j(e("select",{"onUpdate:modelValue":t[3]||(t[3]=v=>c.value=v),class:"w-full p-2 border rounded bg-vs-ibg border-vs-border text-vs-fg",disabled:i.value},t[10]||(t[10]=[e("option",{value:"openapi-typescript-codegen"},"openapi-typescript-codegen",-1)]),8,se),[[F,c.value]])]),g(C,{type:"submit",disabled:!x.value||i.value,block:!0},{default:$(()=>[i.value?(n(),d("span",oe,"Generating Code...")):(n(),d("span",re,"Generate TypeScript Client"))]),_:1},8,["disabled"])],32)]),y.value?(n(),d("div",le,[t[12]||(t[12]=e("h3",{class:"text-sm font-medium mb-2"},"Command that will be executed:",-1)),e("code",ae,f(y.value),1)])):b("",!0),o.value?(n(),d("div",ne,[e("div",ie,[o.value.success?(n(),O(w(X),{key:0,class:"text-green-400",size:20})):(n(),O(w(Z),{key:1,class:"text-red-400",size:20})),e("span",ue,f(o.value.success?"Generation completed!":"Generation failed"),1),o.value.duration?(n(),d("span",de," ("+f(o.value.duration)+"ms) ",1)):b("",!0)]),o.value.success&&((S=o.value.files)!=null&&S.length)?(n(),d("div",ce,[e("h4",pe,"Generated Files ("+f(o.value.files.length)+"):",1),e("div",ve,[(n(!0),d(D,null,N(o.value.files,v=>(n(),d("div",{key:v,class:"text-sm font-mono text-gray-300 bg-vs-pbg px-2 py-1 rounded"},f(v),1))),128))]),e("div",me,[g(C,{onClick:B,variant:"outlined",size:"sm"},{default:$(()=>[g(w(K),{size:16,class:"mr-1"}),t[13]||(t[13]=h(" Open Folder "))]),_:1,__:[13]}),g(C,{onClick:I,variant:"outlined",size:"sm"},{default:$(()=>[g(w(Q),{size:16,class:"mr-1"}),t[14]||(t[14]=h(" Refresh Explorer "))]),_:1,__:[14]})])])):b("",!0),o.value.output||o.value.error?(n(),d("div",fe,[e("h4",ge,f(o.value.error?"Error Output:":"Command Output:"),1),e("pre",be,f(o.value.output||o.value.error),1)])):b("",!0)])):b("",!0),u.value?(n(),d("details",xe,[t[15]||(t[15]=e("summary",{class:"p-3 cursor-pointer hover:bg-vs-hover"},[e("span",{class:"font-medium"},"Debug Information")],-1)),e("div",ye,[e("pre",he,f(u.value),1)])])):b("",!0)])])}}}),ke={};function _e(a,s){return n(),d("div",null,s[0]||(s[0]=[e("p",null,"codegen output",-1)]))}const Ce=E(ke,[["render",_e]]),$e={class:"h-full flex flex-col p-6 overflow-y-auto"},Ge={class:"max-w-4xl mx-auto w-full space-y-6"},Ve=M({__name:"CodeGenView",setup(a){const s=m(!1),r=m({generator:"@openapitools/openapi-generator-cli",language:"js",input:"",output:"./src/api",client:"fetch",useOptions:!0,useUnionTypes:!1,exportCore:!0,exportSchemas:!0,exportModels:!0,exportServices:!0,indent:"2",postfixServices:"Service",postfixModels:"",request:"./core/request",write:!0}),l=m(null);async function c(i){s.value=!0,l.value=null;try{const o=await V.generateCode(i);l.value=o}catch(o){console.error("Code generation failed:",o)}finally{s.value=!1}}return(i,o)=>(n(),d("div",$e,[e("div",Ge,[o[1]||(o[1]=e("div",{class:"border-b border-vs-border pb-4"},[e("h1",{class:"text-2xl font-bold text-vs-fg"},"Code Generation"),e("p",{class:"text-sm text-gray-400 mt-2"}," Generate TypeScript client code from your OpenAPI specification ")],-1)),g(we,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=u=>r.value=u),loading:s.value,onGenerate:c},null,8,["modelValue","loading"]),l.value?(n(),O(Ce,{key:0,result:l.value,config:r.value},null,8,["result","config"])):b("",!0)])]))}});export{Ve as default};
